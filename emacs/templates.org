#+TITLE: Tempel template scaffolding
#+PROPERTY: header-args:emacs-lisp :exports none

* Inline math formulas and displayed equations
:PROPERTIES:
:header-args:emacs-lisp: :tangle templates/inline-math-formulas-and-displayed-equations.eld
:END:
** The fundamentals
#+BEGIN_SRC emacs-lisp
org-mode

;; Basic inline and display math
(m "$" p "$")                                          ; inline math $...$
(M "\\(" p "\\)")                                      ; inline math \(...\)
(d "\\[" n> r> n> "\\]")                               ; display math \[...\]
(eq "\\begin{equation}" n> r> n> "\\end{equation}")     ; numbered equation
(eq* "\\begin{equation*}" n> r> n> "\\end{equation*}")  ; unnumbered equation

;; Multiline environments - primary (can be numbered)
(sp "\\begin{split}" n> r> n> "\\end{split}")          ; split (use inside equation)
(ml "\\begin{multline}" n> r> n> "\\end{multline}")     ; multline
(ml* "\\begin{multline*}" n> r> n> "\\end{multline*}")  ; multline*
(ga "\\begin{gather}" n> r> n> "\\end{gather}")        ; gather
(ga* "\\begin{gather*}" n> r> n> "\\end{gather*}")     ; gather*
(al "\\begin{align}" n> r> n> "\\end{align}")          ; align
(al* "\\begin{align*}" n> r> n> "\\end{align*}")       ; align*
(ala "\\begin{alignat}{" p "}" n> r> n> "\\end{alignat}")    ; alignat (requires number)
(ala* "\\begin{alignat*}{" p "}" n> r> n> "\\end{alignat*}") ; alignat*
(fl "\\begin{flalign}" n> r> n> "\\end{flalign}")      ; flalign (full length)
(fl* "\\begin{flalign*}" n> r> n> "\\end{flalign*}")   ; flalign*

;; Subordinate environments (for use within other math)
(gad "\\begin{gathered}" (p "[t/c/b]? " pos) n> r> n> "\\end{gathered}")    ; gathered
(ald "\\begin{aligned}" (p "[t/c/b]? " pos) n> r> n> "\\end{aligned}") ; aligned
(alad "\\begin{alignedat}{" p "}" (p "[t/c/b]? " pos) n> r> n> "\\end{alignedat}") ; alignedat

;; Array environment (general purpose)
(ar "\\begin{array}{" p "}" n> r> n> "\\end{array}")    ; array with column spec

;; Subequations
(se "\\begin{subequations}" (p "\\label{" label "}") n> r> n> "\\end{subequations}") ; subequations
#+END_SRC

** Automatic numbering and cross-referencing
#+BEGIN_SRC emacs-lisp
org-mode

;; Labels and references
(l "\\label{" p "}")                    ; label
(r "\\eqref{" p "}")                    ; equation reference (with parentheses)
(rf "\\ref{" p "}")                      ; general reference (no parentheses)
(tg "\\tag{" p "}")                      ; manual tag
(tg* "\\tag*{" p "}")                    ; tag without parentheses

;; Common label patterns
(leq "\\label{eq:" p "}")                ; equation label
(lfig "\\label{fig:" p "}") ; figure label
(ltab "\\label{tab:" p "}")              ; table label
(lsec "\\label{sec:" p "}")              ; section label
(lthm "\\label{thm:" p "}")              ; theorem label
(llem "\\label{lem:" p "}")              ; lemma label
(lprop "\\label{prop:" p "}")            ; proposition label
(lcor "\\label{cor:" p "}")              ; corollary label
(ldef "\\label{def:" p "}")              ; definition label

;; Cross-referencing with prefixes
(req "\\eqref{eq:" p "}")                ; equation reference
(rfig "\\ref{fig:" p "}")                ; figure reference
(rtab "\\ref{tab:" p "}")                ; table reference
(rsec "\\ref{sec:" p "}")                ; section reference

;; Numbering control
(nw "\\numberwithin{equation}{" p "}")    ; number equations within sections
(nn "\\nonumber")                         ; suppress equation number on current line
(nt "\\notag")                            ; same as \nonumber
#+END_SRC

* Math symbols and math fonts
:PROPERTIES:
:header-args:emacs-lisp: :tangle templates/math-symbols-and-math-fonts.eld
:END:
** Classes of math symbols
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

(tblc
 "\\begin{tabular}{|l|l|l|l|}" n
 "\\hline Class number & Mnemonic & Description (part of speech) & Examples \\\\" n
 "\\hline 0 & Ord & simple/ordinary (\"noun\") & $A 0 \\Phi \\infty$ \\\\" n
 "\\hline 1 & Op & prefix operator & $\\sum \\Pi$ \\\\" n
 "\\hline 2 & Bin & binary operator (conjunction) & $+ \\cup \\wedge$ \\\\" n
 "\\hline 3 & Rel & relation/comparison (verb) & $= < C$ \\\\" n
 "\\hline 4 & Open & left/opening delimiter & ( [ \\{ \\lbrace \\rbrace \\} >) \\\\" n
 "\\hline 5 & Close & right/closing delimiter & ) ] \\} > \\\\" n
 "\\hline 6 & Punct & postfix/punctuation & ., , ! \\\\" n
 "\\hline" n
 "\\end{tabular}")

(dfs
 "\\DeclareFontShape{OT2}{wncyr}{m}{n}{<->wncyr10}{}")
(dsf
 "\\DeclareSymbolFont{cyr}{OT2}{wncyr}{m}{n}")
(dms
 "\\DeclareMathSymbol{\\Sh}{\\mathalpha}{cyr}{88}")
#+END_SRC

** Some symbols intentionally omitted here
#+BEGIN_SRC emacs-lisp
;;; Some symbols intentionally omitted here (placeholder)
#+END_SRC

** Alphabets and digits
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Greek letters - lowercase
(a "\\alpha")                    ; Œ± alpha
(b "\\beta")                     ; Œ≤ beta
(g "\\gamma")                    ; Œ≥ gamma
(d "\\delta")                    ; Œ¥ delta
(e "\\epsilon")                  ; Œµ epsilon (lunate)
(ve "\\varepsilon")              ; Œµ varepsilon (script)
(z "\\zeta")                     ; Œ∂ zeta
(et "\\eta")                     ; Œ∑ eta
(th "\\theta")                   ; Œ∏ theta
(vth "\\vartheta")               ; œë vartheta
(i "\\iota")                     ; Œπ iota
(k "\\kappa")                    ; Œ∫ kappa
(vk "\\varkappa")                ; œ∞ varkappa
(l "\\lambda")                   ; Œª lambda
(mu "\\mu")                      ; Œº mu
(n "\\nu")                       ; ŒΩ nu
(x "\\xi")                       ; Œæ xi
(p "\\pi")                       ; œÄ pi
(vp "\\varpi")                   ; œñ varpi
(rh "\\rho")                     ; œÅ rho
(vrh "\\varrho")                 ; œ± varrho
(s "\\sigma")                    ; œÉ sigma
(vs "\\varsigma")                ; œÇ varsigma
(t "\\tau")                      ; œÑ tau
(u "\\upsilon")                  ; œÖ upsilon
(ph "\\phi")                     ; œÜ phi
(vph "\\varphi")                 ; œÜ varphi
(ch "\\chi")                     ; œá chi
(ps "\\psi")                     ; œà psi
(o "\\omega")                    ; œâ omega
(dg "\\digamma")                 ; œù digamma

;; Greek letters - uppercase
(G "\\Gamma")                    ; Œì Gamma
(D "\\Delta")                    ; Œî Delta
(Th "\\Theta")                   ; Œò Theta
(L "\\Lambda")                   ; Œõ Lambda
(X "\\Xi")                       ; Œû Xi
(P "\\Pi")                       ; Œ† Pi
(S "\\Sigma")                    ; Œ£ Sigma
(U "\\Upsilon")                  ; Œ• Upsilon
(Ph "\\Phi")                     ; Œ¶ Phi
(Ps "\\Psi")                     ; Œ® Psi
(O "\\Omega")                    ; Œ© Omega

;; Other alphabetic symbols
(al "\\aleph")                   ; ‚Ñµ aleph
(be "\\beth")                    ; ‚Ñ∂ beth
(gi "\\gimel")                   ; ‚Ñ∑ gimel
(da "\\daleth")                  ; ‚Ñ∏ daleth
(el "\\ell")                     ; ‚Ñì ell
(eth "\\eth")                    ; √∞ eth
(hb "\\hbar")                    ; ‚Ñè hbar
(hs "\\hslash")                  ; ‚Ñè hslash variant
(wp "\\wp")                      ; ‚Ñò wp (Weierstrass p)
(mho "\\mho")                    ; ‚Ñß mho
(co "\\complement")              ; ‚àÅ complement
(cs "\\circledS")                ; ‚ìà circled S
(fi "\\Finv")                    ; ‚Ñ≤ Finv
(ga "\\Game")                    ; ‚ÖÅ Game
(bk "\\Bbbk")                    ; ùïú Bbbk

;; Partial derivatives
(pa "\\partial")                 ; ‚àÇ partial

;; Special math mode letters
(im "\\imath")                   ; ƒ± dotless i
(jm "\\jmath")                   ; »∑ dotless j

;; Real and Imaginary parts
(Re "\\Re")                      ; ‚Ñú Real part
(Im "\\Im")                      ; ‚Ñë Imaginary part

;; Math font switches
(mb "\\mathbf{" p "}")           ; bold
(mr "\\mathrm{" p "}")           ; roman
(mi "\\mathit{" p "}")           ; italic
(mc "\\mathcal{" p "}")          ; calligraphic
(ms "\\mathscr{" p "}")          ; script
(mf "\\mathfrak{" p "}")         ; fraktur
(bb "\\mathbb{" p "}")           ; blackboard bold
(sf "\\mathsf{" p "}")           ; sans serif
(tt "\\mathtt{" p "}")           ; typewriter
(bs "\\boldsymbol{" p "}")       ; bold symbol
(pmb "\\pmb{" p "}")             ; poor man's bold
#+END_SRC

** Miscellaneous simple symbols
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Basic symbols
(# "\\#")                        ; # hash
(& "\\&")                        ; & ampersand
(an "\\angle")                   ; ‚à† angle
(bp "\\backprime")               ; ‚Äµ backprime
(pr "\\prime")                   ; ‚Ä≤ prime
(em "\\emptyset")                ; ‚àÖ emptyset
(vem "\\varnothing")             ; ‚àÖ varnothing (alternative)
(ex "\\exists")                  ; ‚àÉ exists
(nex "\\nexists")                ; ‚àÑ nexists
(fo "\\forall")                  ; ‚àÄ forall
(inf "\\infty")                  ; ‚àû infinity
(na "\\nabla")                   ; ‚àá nabla (del)
(neg "\\neg")                    ; ¬¨ neg (logical not)
(lnot "\\lnot")                  ; ¬¨ lnot (synonym)
(sr "\\surd")                    ; ‚àö surd
(bo "\\bot")                     ; ‚ä• bot
(top "\\top")                    ; ‚ä§ top
(tri "\\triangle")               ; ‚ñ≥ triangle
(td "\\triangledown")            ; ‚ñΩ triangledown

;; Card suits
(cl "\\clubsuit")                ; ‚ô£ clubsuit
(di "\\diamondsuit")             ; ‚ô¶ diamondsuit
(he "\\heartsuit")               ; ‚ô• heartsuit
(sp "\\spadesuit")               ; ‚ô† spadesuit

;; Musical symbols
(fl "\\flat")                    ; ‚ô≠ flat
(nat "\\natural")                ; ‚ôÆ natural
(sh "\\sharp")                   ; ‚ôØ sharp

;; Geometric shapes
(lo "\\lozenge")                 ; ‚óä lozenge
(dia "\\diamond")                ; ‚ãÑ diamond (smaller)
(sq "\\square")                  ; ‚ñ° square
(bst "\\bigstar")                ; ‚òÖ bigstar
;; Black shapes (amssymb)
(blo "\\blacklozenge")           ; ‚ß´ blacklozenge
(bsq "\\blacksquare")            ; ‚ñ† blacksquare
(bt "\\blacktriangle")           ; ‚ñ≤ blacktriangle
(btd "\\blacktriangledown")      ; ‚ñº blacktriangledown

;; Angle symbols
(ma "\\measuredangle")           ; ‚à° measuredangle
(sa "\\sphericalangle")          ; ‚à¢ sphericalangle

;; Diagonal lines
(dd "\\diagdown")                ; ‚ï≤ diagdown
(du "\\diagup")                  ; ‚ï± diagup
#+END_SRC

** Binary operator symbols
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Basic arithmetic
(* "*")                          ; * times (implicit)
(+ "+")                          ; + plus (implicit)
(- "-")                          ; - minus (implicit)
(ti "\\times")                   ; √ó times
(div "\\div")                    ; √∑ div
(pm "\\pm")                      ; ¬± plus-minus
(mp "\\mp")                      ; ‚àì minus-plus

;; Dots and circles
(cd "\\cdot")                    ; ‚ãÖ cdot
(ci "\\circ")                    ; ‚àò circ
(bu "\\bullet")                  ; ‚Ä¢ bullet
(bc "\\bigcirc")                 ; ‚óØ bigcirc

;; Set operations
(cu "\\cup")                     ; ‚à™ cup (union)
(ca "\\cap")                     ; ‚à© cap (intersection)
(upl "\\uplus")                  ; ‚äé uplus
(scu "\\sqcup")                  ; ‚äî sqcup
(sca "\\sqcap")                  ; ‚äì sqcap
(Cu "\\Cup")                     ; ‚ãì Cup (double union)
(Ca "\\Cap")                     ; ‚ãí Cap (double intersection)
(vee "\\vee")                    ; ‚à® vee (or)
(lor "\\lor")                    ; ‚à® lor (synonym)
(we "\\wedge")                   ; ‚àß wedge (and)
(lan "\\land")                   ; ‚àß land (synonym)

;; Advanced set/lattice operations
(bw "\\barwedge")                ; ‚äº barwedge
(dbw "\\doublebarwedge")         ; ‚©û doublebarwedge
(cv "\\curlyvee")                ; ‚ãé curlyvee
(cw "\\curlywedge")              ; ‚ãè curlywedge
(vb "\\veebar")                  ; ‚äª veebar

;; Triangles
(btu "\\bigtriangleup")          ; ‚ñ≥ bigtriangleup
(btd "\\bigtriangledown")        ; ‚ñΩ bigtriangledown
(tl "\\triangleleft")            ; ‚óÅ triangleleft
(trig "\\triangleright")         ; ‚ñ∑ triangleright

;; Box operations (amssymb)
(bpl "\\boxplus")                ; ‚äû boxplus
(bmi "\\boxminus")               ; ‚äü boxminus
(bti "\\boxtimes")               ; ‚ä† boxtimes
(bdo "\\boxdot")                 ; ‚ä° boxdot

;; Circle operations
(opl "\\oplus")                  ; ‚äï oplus
(omi "\\ominus")                 ; ‚äñ ominus
(oti "\\otimes")                 ; ‚äó otimes
(osl "\\oslash")                 ; ‚äò oslash
(odo "\\odot")                   ; ‚äô odot

;; Special operators
(as "\\ast")                     ; ‚àó ast
(st "\\star")                    ; ‚ãÜ star
(dag "\\dagger")                 ; ‚Ä† dagger
(ddag "\\ddagger")               ; ‚Ä° ddagger
(am "\\amalg")                   ; ‚®ø amalg
(wr "\\wr")                      ; ‚âÄ wr (wreath product)

;; Additional operations (amssymb)
(dpl "\\dotplus")                ; ‚àî dotplus
(ce "\\centerdot")               ; ¬∑ centerdot
(cda "\\circleddash")            ; ‚äù circleddash
(cas "\\circledast")             ; ‚äõ circledast
(cci "\\circledcirc")            ; ‚äö circledcirc
(in "\\intercal")                ; ‚ä∫ intercal
(dio "\\divideontimes")          ; ‚ãá divideontimes
(ltt "\\leftthreetimes")         ; ‚ãã leftthreetimes
(rtt "\\rightthreetimes")        ; ‚ãå rightthreetimes
(lti "\\ltimes")                 ; ‚ãâ ltimes
(rti "\\rtimes")                 ; ‚ãä rtimes
(ldo "\\lessdot")                ; ‚ãñ lessdot
(gdo "\\gtrdot")                 ; ‚ãó gtrdot

;; Backslash operators
(sm "\\setminus")                ; ‚àñ setminus
(ssm "\\smallsetminus")          ; ‚àñ smallsetminus
#+END_SRC

** Relation symbols: \( <=>\succ\sim \) and variants
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Basic comparisons
(< "<")                          ; < less than
(> ">")                          ; > greater than
(= "=")                          ; = equals
(le "\\leq")                     ; ‚â§ leq
(LEQ "\\le")                     ; ‚â§ le (synonym)
(ge "\\geq")                     ; ‚â• geq
(GEQ "\\ge")                     ; ‚â• ge (synonym)
(ll "\\ll")                      ; ‚â™ ll (much less)
(gg "\\gg")                      ; ‚â´ gg (much greater)
(lll "\\lll")                    ; ‚ãò lll (very much less)
(ggg "\\ggg")                    ; ‚ãô ggg (very much greater)
(ne "\\neq")                     ; ‚â† neq (not equal)
(NEQ "\\ne")                     ; ‚â† ne (synonym)

;; Equivalence and similarity
(eq "\\equiv")                   ; ‚â° equiv
(si "\\sim")                     ; ‚àº sim
(sieq "\\simeq")                 ; ‚âÉ simeq
(ap "\\approx")                  ; ‚âà approx
(apeq "\\approxeq")              ; ‚äú approxeq
(asy "\\asymp")                  ; ‚âç asymp
(cong "\\cong")                 ; ‚âÖ cong
(do "\\doteq")                   ; ‚âê doteq
(deqd "\\doteqdot")             ; ‚âë doteqdot
(Do "\\Doteq")                   ; ‚âë Doteq (synonym)

;; Advanced equivalences (amssymb)
(bsi "\\backsim")                ; ‚àΩ backsim
(bsieq "\\backsimeq")            ; ‚ãç backsimeq
(beq "\\bumpeq")                 ; ‚âè bumpeq
(Bu "\\Bumpeq")                  ; ‚âé Bumpeq
(cieq "\\circeq")                ; ‚âó circeq
(ecir "\\eqcirc")                ; ‚âñ eqcirc
(esim "\\eqsim")                 ; ‚âÇ eqsim
(esg "\\eqslantgtr")             ; ‚™ñ eqslantgtr
(esl "\\eqslantless")            ; ‚™ï eqslantless
(fd "\\fallingdotseq")           ; ‚âí fallingdotseq
(rd "\\risingdotseq")            ; ‚âì risingdotseq
(tap "\\thickapprox")            ; ‚âà thickapprox
(tsi "\\thicksim")               ; ‚àº thicksim
(treq "\\triangleq")             ; ‚âú triangleq

;; Order relations
(pr "\\prec")                    ; ‚â∫ prec
(su "\\succ")                    ; ‚âª succ
(preq "\\preceq")                ; ‚™Ø preceq
(sueq "\\succeq")                ; ‚™∞ succeq
(prsi "\\precsim")               ; ‚âæ precsim
(susi "\\succsim")               ; ‚âø succsim
(prap "\\precapprox")            ; ‚™∑ precapprox
(suap "\\succapprox")            ; ‚™∏ succapprox
(prce "\\preccurlyeq")           ; ‚âº preccurlyeq
(suce "\\succcurlyeq")           ; ‚âΩ succcurlyeq
(cepr "\\curlyeqprec")           ; ‚ãû curlyeqprec
(cesu "\\curlyeqsucc")           ; ‚ãü curlyeqsucc

;; Less/greater variants (amssymb)
(leqq "\\leqq")                  ; ‚â¶ leqq
(geqq "\\geqq")                  ; ‚âß geqq
(leqs "\\leqslant")              ; ‚©Ω leqslant
(geqs "\\geqslant")              ; ‚©æ geqslant
(lsi "\\lesssim")                ; ‚â≤ lesssim
(gsi "\\gtrsim")                 ; ‚â≥ gtrsim
(lap "\\lessapprox")             ; ‚™Ö lessapprox
(gap "\\gtrapprox")              ; ‚™Ü gtrapprox
(leg "\\lesseqgtr")              ; ‚ãö lesseqgtr
(gel "\\gtreqless")              ; ‚ãõ gtreqless
(legg "\\lesseqqgtr")            ; ‚™ã lesseqqgtr
(geql "\\gtreqqless")            ; ‚™å gtreqqless
(lsg "\\lessgtr")                ; ‚â∂ lessgtr
(gls "\\gtrless")                ; ‚â∑ gtrless

;; Negated relations
(nle "\\nleq")                   ; ‚â∞ nleq
(nge "\\ngeq")                   ; ‚â± ngeq
(nleqq "\\nleqq")                ; ‚â¶Ã∏ nleqq
(ngeqq "\\ngeqq")                ; ‚âßÃ∏ ngeqq
(nleqs "\\nleqslant")            ; ‚â∞ nleqslant
(ngeqs "\\ngeqslant")            ; ‚â± ngeqslant
(nless "\\nless")                ; ‚âÆ nless
(ngtr "\\ngtr")                  ; ‚âØ ngtr
(nprec "\\nprec")                ; ‚äÄ nprec
(nsucc "\\nsucc")                ; ‚äÅ nsucc
(npreq "\\npreceq")              ; ‚ã† npreceq
(nsueq "\\nsucceq")              ; ‚ã° nsucceq
(nsi "\\nsim")                   ; ‚âÅ nsim
(nco "\\ncong")                  ; ‚âÜ ncong
(nap "\\napprox")                ; ‚ââ napprox

;; Additional negated (amssymb)
(prnap "\\precnapprox")          ; ‚™π precnapprox
(sunap "\\succnapprox")          ; ‚™∫ succnapprox
(prneq "\\precneqq")             ; ‚™µ precneqq
(suneq "\\succneqq")             ; ‚™∂ succneqq
(prnsi "\\precnsim")             ; ‚ã® precnsim
(sunsi "\\succnsim")             ; ‚ã© succnsim
(lnap "\\lnapprox")              ; ‚™â lnapprox
(gnap "\\gnapprox")              ; ‚™ä gnapprox
(lneq "\\lneq")                  ; ‚™á lneq
(gneq "\\gneq")                  ; ‚™à gneq
(lneqq "\\lneqq")                ; ‚â® lneqq
(gneqq "\\gneqq")                ; ‚â© gneqq
(lnsi "\\lnsim")                 ; ‚ã¶ lnsim
(gnsi "\\gnsim")                 ; ‚ãß gnsim
(lveq "\\lvertneqq")             ; ‚â® lvertneqq
(gveq "\\gvertneqq")             ; ‚â© gvertneqq
#+END_SRC

** Relation symbols: arrows
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Basic arrows
(la "\\leftarrow")               ; ‚Üê leftarrow
(ra "\\rightarrow")              ; ‚Üí rightarrow
(lrar "\\leftrightarrow")       ; ‚Üî leftrightarrow
(La "\\Leftarrow")               ; ‚áê Leftarrow
(Ra "\\Rightarrow")              ; ‚áí Rightarrow
(Lra "\\Leftrightarrow")        ; ‚áî Leftrightarrow
(ua "\\uparrow")                 ; ‚Üë uparrow
(da "\\downarrow")               ; ‚Üì downarrow
(uda "\\updownarrow")            ; ‚Üï updownarrow
(Ua "\\Uparrow")                 ; ‚áë Uparrow
(Da "\\Downarrow")               ; ‚áì Downarrow
(Uda "\\Updownarrow")            ; ‚áï Updownarrow

;; Long arrows
(llar "\\longleftarrow")         ; ‚üµ longleftarrow
(lrar "\\longrightarrow")        ; ‚ü∂ longrightarrow
(llra "\\longleftrightarrow")    ; ‚ü∑ longleftrightarrow
(Lla "\\Longleftarrow")          ; ‚ü∏ Longleftarrow
(Lra "\\Longrightarrow")         ; ‚üπ Longrightarrow
(Llra "\\Longleftrightarrow")    ; ‚ü∫ Longleftrightarrow

;; Maps to
(mt "\\mapsto")                  ; ‚Ü¶ mapsto
(lmt "\\longmapsto")             ; ‚üº longmapsto

;; Hooks
(hla "\\hookleftarrow")          ; ‚Ü© hookleftarrow
(hra "\\hookrightarrow")         ; ‚Ü™ hookrightarrow

;; Tails (amssymb)
(lta "\\leftarrowtail")          ; ‚Ü¢ leftarrowtail
(rta "\\rightarrowtail")         ; ‚Ü£ rightarrowtail

;; Harpoons
(lhu "\\leftharpoonup")          ; ‚Üº leftharpoonup
(lhd "\\leftharpoondown")        ; ‚ÜΩ leftharpoondown
(rhu "\\rightharpoonup")         ; ‚áÄ rightharpoonup
(rhd "\\rightharpoondown")       ; ‚áÅ rightharpoondown
(uhu "\\upharpoonleft")          ; ‚Üø upharpoonleft
(uhr "\\upharpoonright")         ; ‚Üæ upharpoonright
(dhl "\\downharpoonleft")        ; ‚áÉ downharpoonleft
(dhr "\\downharpoonright")       ; ‚áÇ downharpoonright

;; Left-right harpoons
(lrh "\\leftrightharpoons")      ; ‚áã leftrightharpoons
(rlh "\\rightleftharpoons")      ; ‚áå rightleftharpoons

;; Double arrows (amssymb)
(llas "\\leftleftarrows")        ; ‚áá leftleftarrows
(rra "\\rightrightarrows")       ; ‚áâ rightrightarrows
(uua "\\upuparrows")             ; ‚áà upuparrows
(dda "\\downdownarrows")         ; ‚áä downdownarrows
(lras "\\leftrightarrows")       ; ‚áÜ leftrightarrows
(rla "\\rightleftarrows")        ; ‚áÑ rightleftarrows

;; Two-headed arrows (amssymb)
(thla "\\twoheadleftarrow")      ; ‚Üû twoheadleftarrow
(thra "\\twoheadrightarrow")     ; ‚Ü† twoheadrightarrow

;; Triple arrows (amssymb)
(LLa "\\Lleftarrow")             ; ‚áö Lleftarrow
(Rra "\\Rrightarrow")            ; ‚áõ Rrightarrow

;; Curved arrows (amssymb)
(cla "\\curvearrowleft")         ; ‚Ü∂ curvearrowleft
(cra "\\curvearrowright")        ; ‚Ü∑ curvearrowright
(cila "\\circlearrowleft")       ; ‚Ü∫ circlearrowleft
(cira "\\circlearrowright")      ; ‚Üª circlearrowright

;; Diagonal arrows
(nea "\\nearrow")                ; ‚Üó nearrow
(sea "\\searrow")                ; ‚Üò searrow
(swa "\\swarrow")                ; ‚Üô swarrow
(nwa "\\nwarrow")                ; ‚Üñ nwarrow

;; Loop arrows (amssymb)
(lola "\\looparrowleft")         ; ‚Ü´ looparrowleft
(lora "\\looparrowright")        ; ‚Ü¨ looparrowright

;; Squiggly arrows (amssymb)
(lsq "\\leftrightsquigarrow")    ; ‚Ü≠ leftrightsquigarrow
(rsq "\\rightsquigarrow")        ; ‚áù rightsquigarrow
(lea "\\leadsto")                ; ‚áù leadsto (synonym)

;; Special arrows (amssymb)
(Lsh "\\Lsh")                    ; ‚Ü∞ Lsh
(Rsh "\\Rsh")                    ; ‚Ü± Rsh
(mum "\\multimap")               ; ‚ä∏ multimap

;; Negated arrows (amssymb)
(nla "\\nleftarrow")             ; ‚Üö nleftarrow
(nra "\\nrightarrow")            ; ‚Üõ nrightarrow
(nlra "\\nleftrightarrow")       ; ‚ÜÆ nleftrightarrow
(nLa "\\nLeftarrow")             ; ‚áç nLeftarrow
(nRa "\\nRightarrow")            ; ‚áè nRightarrow
(nLra "\\nLeftrightarrow")       ; ‚áé nLeftrightarrow

;; Gets and to synonyms
(gets "\\gets")                  ; ‚Üê gets (leftarrow)
(res "\\restriction")            ; ‚Üæ restriction (upharpoonright)
#+END_SRC

** Relation symbols: miscellaneous
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Basic relations
(in "\\in")                      ; ‚àà in
(ni "\\ni")                      ; ‚àã ni (contains)
(own "\\owns")                   ; ‚àã owns (synonym)
(nin "\\notin")                  ; ‚àâ notin
(sub "\\subset")                 ; ‚äÇ subset
(sup "\\supset")                 ; ‚äÉ supset
(sube "\\subseteq")              ; ‚äÜ subseteq
(supe "\\supseteq")              ; ‚äá supseteq
(ssub "\\sqsubset")              ; ‚äè sqsubset
(ssup "\\sqsupset")              ; ‚äê sqsupset
(ssube "\\sqsubseteq")           ; ‚äë sqsubseteq
(ssupe "\\sqsupseteq")           ; ‚äí sqsupseteq

;; Advanced subsets (amssymb)
(Sub "\\Subset")                 ; ‚ãê Subset
(Sup "\\Supset")                 ; ‚ãë Supset
(subeqq "\\subseteqq")           ; ‚´Ö subseteqq
(supeqq "\\supseteqq")           ; ‚´Ü supseteqq
(subne "\\subsetneq")            ; ‚ää subsetneq
(supne "\\supsetneq")            ; ‚äã supsetneq
(subneqq "\\subsetneqq")         ; ‚´ã subsetneqq
(supneqq "\\supsetneqq")         ; ‚´å supsetneqq
(vsubne "\\varsubsetneq")        ; ‚ää varsubsetneq
(vsupne "\\varsupsetneq")        ; ‚äã varsupsetneq
(vsubneqq "\\varsubsetneqq")     ; ‚´ã varsubsetneqq
(vsupneqq "\\varsupsetneqq")     ; ‚´å varsupsetneqq

;; Negated subsets (amssymb)
(nsub "\\nsubseteq")             ; ‚äà nsubseteq
(nsup "\\nsupseteq")             ; ‚äâ nsupseteq
(nsubeqq "\\nsubseteqq")         ; ‚äà nsubseteqq
(nsupeqq "\\nsupseteqq")         ; ‚äâ nsupseteqq

;; Logic and lattice
(vd "\\vdash")                   ; ‚ä¢ vdash
(dv "\\dashv")                   ; ‚ä£ dashv
(Vd "\\Vdash")                   ; ‚ä© Vdash
(vD "\\vDash")                   ; ‚ä® vDash
(mo "\\models")                  ; ‚ä® models (synonym)
(VD "\\Vvdash")                  ; ‚ä™ Vvdash
(nvd "\\nvdash")                 ; ‚ä¨ nvdash
(nVd "\\nVdash")                 ; ‚äÆ nVdash
(nvD "\\nvDash")                 ; ‚ä≠ nvDash
(nVD "\\nVDash")                 ; ‚äØ nVDash

;; Parallel
(par "\\parallel")               ; ‚à• parallel
(npar "\\nparallel")             ; ‚à¶ nparallel
(spar "\\shortparallel")         ; ‚à• shortparallel
(nspar "\\nshortparallel")       ; ‚ä¨ nshortparallel

;; Mid
(mid "\\mid")                    ; ‚à£ mid
(nmid "\\nmid")                  ; ‚à§ nmid
(smid "\\shortmid")              ; ‚à£ shortmid
(nsmid "\\nshortmid")            ; ‚ä¨ nshortmid

;; Misc relations
(perp "\\perp")                  ; ‚ä• perp
(bow "\\bowtie")                 ; ‚ãà bowtie
(Join "\\Join")                  ; ‚ãà Join (synonym)
(ltri "\\ltriangle")             ; ‚ä≤ ltriangle (same as vartriangleleft)
(rtri "\\rtriangle")             ; ‚ä≥ rtriangle (same as vartriangleright)
(vltri "\\vartriangleleft")      ; ‚ä≤ vartriangleleft
(vrtri "\\vartriangleright")     ; ‚ä≥ vartriangleright
(bltri "\\blacktriangleleft")    ; ‚óÄ blacktriangleleft
(brtri "\\blacktriangleright")   ; ‚ñ∂ blacktriangleright
(tleq "\\trianglelefteq")        ; ‚ä¥ trianglelefteq
(treq "\\trianglerighteq")       ; ‚äµ trianglerighteq
(nltri "\\ntriangleleft")        ; ‚ã™ ntriangleleft
(nrtri "\\ntriangleright")       ; ‚ã´ ntriangleright
(ntleq "\\ntrianglelefteq")      ; ‚ã¨ ntrianglelefteq
(ntreq "\\ntrianglerighteq")     ; ‚ã≠ ntrianglerighteq

;; Other relations (amssymb)
(bet "\\between")                ; ‚â¨ between
(pf "\\pitchfork")               ; ‚ãî pitchfork
(smi "\\smile")                  ; ‚å£ smile
(fro "\\frown")                  ; ‚å¢ frown
(ssmi "\\smallsmile")            ; ‚å£ smallsmile
(sfro "\\smallfrown")            ; ‚å¢ smallfrown
(prop "\\propto")                ; ‚àù propto
(vprop "\\varpropto")            ; ‚àù varpropto
(bec "\\because")                ; ‚àµ because
(the "\\therefore")              ; ‚à¥ therefore
(beps "\\backepsilon")           ; œ∂ backepsilon
(unlhd "\\unlhd")                ; ‚ä¥ unlhd (synonym for trianglelefteq)
(unrhd "\\unrhd")                ; ‚äµ unrhd (synonym for trianglerighteq)
(lhd "\\lhd")                    ; ‚ä≤ lhd (synonym for vartriangleleft)
(rhd "\\rhd")                    ; ‚ä≥ rhd (synonym for vartriangleright)
(vtri "\\vartriangle")           ; ‚ñ≥ vartriangle
#+END_SRC

** Cumulative (variable-size) operators
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Basic operators
(sum "\\sum")                    ; ‚àë sum
(prod "\\prod")                  ; ‚àè prod
(cp "\\coprod")                  ; ‚àê coprod
(int "\\int")                    ; ‚à´ int
(oi "\\oint")                    ; ‚àÆ oint
(sint "\\smallint")              ; ‚à´ smallint

;; Set operations
(bcu "\\bigcup")                 ; ‚ãÉ bigcup (union)
(bca "\\bigcap")                 ; ‚ãÇ bigcap (intersection)
(bscu "\\bigsqcup")              ; ‚®Ü bigsqcup
(bsca "\\bigsqcap")              ; ‚®Ö bigsqcap
(bve "\\bigvee")                 ; ‚ãÅ bigvee
(bwe "\\bigwedge")               ; ‚ãÄ bigwedge
(bupl "\\biguplus")              ; ‚®Ñ biguplus

;; Circle operations
(bodo "\\bigodot")               ; ‚®Ä bigodot
(bopl "\\bigoplus")              ; ‚®Å bigoplus
(boti "\\bigotimes")             ; ‚®Ç bigotimes

;; Multiple integrals (amsmath)
(ii "\\iint")                    ; ‚à¨ iint
(iii "\\iiint")                  ; ‚à≠ iiint
(iiii "\\iiiint")                ; ‚®å iiiint
(ido "\\idotsint")               ; ‚à´‚ãØ‚à´ idotsint
#+END_SRC

** Punctuation
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Basic punctuation
(, ",")                          ; , comma
(; ";")                          ; ; semicolon
(: "\\colon")                    ; : colon (proper spacing)
(. ".")                          ; . period
(! "!")                          ; ! exclamation
(? "?")                          ; ? question

;; Dots
(cd "\\cdots")                   ; ‚ãØ cdots (centered dots)
(ld "\\ldots")                   ; ‚Ä¶ ldots (low dots)
(ddot "\\ddots")                 ; ‚ã± ddots (diagonal dots)
(vdot "\\vdots")                 ; ‚ãÆ vdots (vertical dots)

;; Semantic dots (amsmath - preferred)
(dsc "\\dotsc")                  ; dots with commas
(dsb "\\dotsb")                  ; dots with binary operators
(dsm "\\dotsm")                  ; dots with multiplication
(dsi "\\dotsi")                  ; dots with integrals
(dso "\\dotso")                  ; other dots
(ds "\\dots")                    ; generic dots (auto-chooses)
#+END_SRC

** Pairing delimiters (extensible)
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Basic delimiters (these auto-scale with \left \right)
;; Note: Prefer \lvert/\rvert, \lVert/\rVert for proper spacing
(( "(")                          ; ( left paren
() ")")                          ; ) right paren
([ "[")                          ; [ left bracket
(] "]")                          ; ] right bracket
({ "\\{")                        ; { left brace
(} "\\}")                        ; } right brace
(lan "\\langle")                 ; ‚ü® langle
(ran "\\rangle")                 ; ‚ü© rangle
(lc "\\lceil")                   ; ‚åà lceil
(rc "\\rceil")                   ; ‚åâ rceil
(lf "\\lfloor")                  ; ‚åä lfloor
(rf "\\rfloor")                  ; ‚åã rfloor
(/ "/")                          ; / slash
(\ "\\backslash")                ; \ backslash

;; Vertical bars (use these for proper spacing)
(lv "\\lvert")                   ; | lvert
(rv "\\rvert")                   ; | rvert
(lV "\\lVert")                   ; ‚Äñ lVert
(rV "\\rVert")                   ; ‚Äñ rVert

;; Double brackets (stmaryrd)
(llb "\\llbracket")              ; ‚ü¶ llbracket
(rrb "\\rrbracket")              ; ‚üß rrbracket

;; Upper/lower corners (amssymb)
(ulc "\\ulcorner")               ; ‚åú ulcorner
(urc "\\urcorner")               ; ‚åù urcorner
(llc "\\llcorner")               ; ‚åû llcorner
(lrc "\\lrcorner")               ; ‚åü lrcorner

;; Group delimiters (amssymb)
(lgr "\\lgroup")                 ; ‚üÆ lgroup
(rgr "\\rgroup")                 ; ‚üØ rgroup
(lmo "\\lmoustache")             ; ‚é∞ lmoustache
(rmo "\\rmoustache")             ; ‚é± rmoustache

;; Auto-sizing delimiters
(lr "\\left" p " " r " \\right" p) ; \left...\right pair
(bi "\\big" p)                   ; \big
(Bi "\\Big" p)                   ; \Big
(bg "\\bigg" p)                  ; \bigg
(Bg "\\Bigg" p)                  ; \Bigg
(bil "\\bigl" p)                 ; \bigl
(bir "\\bigr" p)                 ; \bigr
(Bil "\\Bigl" p)                 ; \Bigl
(Bir "\\Bigr" p)                 ; \Bigr
(bgl "\\biggl" p)                ; \biggl
(bgr "\\biggr" p)                ; \biggr
(Bgl "\\Biggl" p)                ; \Biggl
(Bgr "\\Biggr" p)                ; \Biggr
#+END_SRC

** Nonpairing extensible symbols
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Vertical bars and arrows
(| "|")                         ; | vert
(ve "\\vert")                   ; | vert (explicit)
(|| "\\|")                      ; ‚Äñ Vert (double bar)
(Ve "\\Vert")                   ; ‚Äñ Vert (explicit)
(ava "\\arrowvert")             ; | arrowvert
(Ava "\\Arrowvert")             ; ‚Äñ Arrowvert
(brv "\\bracevert")             ; ‚é™ bracevert

;; Extensible arrows
(ua "\\uparrow")                ; ‚Üë uparrow
(da "\\downarrow")              ; ‚Üì downarrow
(uda "\\updownarrow")           ; ‚Üï updownarrow
(Ua "\\Uparrow")                ; ‚áë Uparrow
(Da "\\Downarrow")              ; ‚áì Downarrow
(Uda "\\Updownarrow")           ; ‚áï Updownarrow
#+END_SRC

** Extensible vertical arrows
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; These are same as in nonpairing but included for completeness
(uarr "\\uparrow")               ; ‚Üë uparrow
(darr "\\downarrow")             ; ‚Üì downarrow
(udarr "\\updownarrow")          ; ‚Üï updownarrow
(Uarr "\\Uparrow")               ; ‚áë Uparrow
(Darr "\\Downarrow")             ; ‚áì Downarrow
(Udarr "\\Updownarrow")          ; ‚áï Updownarrow
#+END_SRC

** Math accents
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Standard accents
(hat "\\hat{" p "}")             ; √¢ hat
(ch "\\check{" p "}")            ; «é check
(til "\\tilde{" p "}")           ; √£ tilde
(ac "\\acute{" p "}")            ; √° acute
(gr "\\grave{" p "}")            ; √† grave
(dot "\\dot{" p "}")             ; »ß dot
(ddo "\\ddot{" p "}")            ; √§ ddot
(br "\\breve{" p "}")            ; ƒÉ breve
(bar "\\bar{" p "}")             ; ƒÅ bar
(vec "\\vec{" p "}")             ; a‚Éó vec
(mat "\\mathring{" p "}")        ; √• mathring

;; Wide accents
(what "\\widehat{" p "}")        ; √¢bc widehat
(wti "\\widetilde{" p "}")       ; √£bc widetilde
(wbar "\\overline{" p "}")       ; aÃÖbÃÖcÃÖ overline
(ubar "\\underline{" p "}")      ; abc underline

;; Triple/quadruple dots (amsmath)
(ddd "\\dddot{" p "}")           ; ‚Éõa dddot
(dddd "\\ddddot{" p "}")         ; ‚Éúa ddddot

;; Over/under arrows and braces
(ola "\\overleftarrow{" p "}")   ; ‚Üêabc overleftarrow
(ora "\\overrightarrow{" p "}")  ; ‚Üíabc overrightarrow
(olla "\\overleftrightarrow{" p "}") ; ‚Üîabc overleftrightarrow
(ula "\\underleftarrow{" p "}")  ; abc‚Üê underleftarrow
(ura "\\underrightarrow{" p "}") ; abc‚Üí underrightarrow
(ulla "\\underleftrightarrow{" p "}") ; abc‚Üî underleftrightarrow
(obr "\\overbrace{" p "}")       ; ‚èûabc overbrace
(ubr "\\underbrace{" p "}")      ; abc‚èü underbrace
#+END_SRC

** Named operators
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Trigonometric
(sin "\\sin")                    ; sin
(cos "\\cos")                    ; cos
(tan "\\tan")                    ; tan
(cot "\\cot")                    ; cot
(sec "\\sec")                    ; sec
(csc "\\csc")                    ; csc

;; Inverse trigonometric
(arcsin "\\arcsin")              ; arcsin
(arccos "\\arccos")              ; arccos
(arctan "\\arctan")              ; arctan

;; Hyperbolic
(sinh "\\sinh")                  ; sinh
(cosh "\\cosh")                  ; cosh
(tanh "\\tanh")                  ; tanh
(coth "\\coth")                  ; coth

;; Logarithms and exponentials
(ln "\\ln")                      ; ln
(log "\\log")                    ; log
(lg "\\lg")                      ; lg
(exp "\\exp")                    ; exp

;; Limits
(lim "\\lim")                    ; lim
(liminf "\\liminf")              ; liminf
(limsup "\\limsup")              ; limsup
(varliminf "\\varliminf")        ; varliminf
(varlimsup "\\varlimsup")        ; varlimsup

;; Other operators
(arg "\\arg")                    ; arg
(deg "\\deg")                    ; deg
(det "\\det")                    ; det
(dim "\\dim")                    ; dim
(gcd "\\gcd")                    ; gcd
(hom "\\hom")                    ; hom
(inf "\\inf")                    ; inf
(ker "\\ker")                    ; ker
(max "\\max")                    ; max
(min "\\min")                    ; min
(Pr "\\Pr")                      ; Pr
(sup "\\sup")                    ; sup

;; Projective limits (amsmath)
(injlim "\\injlim")              ; injlim
(projlim "\\projlim")            ; projlim
(varinjlim "\\varinjlim")        ; varinjlim
(varprojlim "\\varprojlim")      ; varprojlim

;; Custom operators
(dmo "\\DeclareMathOperator{" p "}{" p "}") ; declare math operator
(dmo* "\\DeclareMathOperator*{" p "}{" p "}") ; with limits
(op "\\operatorname{" p "}")     ; inline operator
(op* "\\operatorname*{" p "}")   ; inline with limits
#+END_SRC

* Notations
:PROPERTIES:
:header-args:emacs-lisp: :tangle templates/notations.eld
:END:
** Top and bottom embellishments
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Over/under embellishments (already defined in math accents)
;; These are repeated here for completeness of section 4.1
(what "\\widehat{" p "}")        ; wide hat
(wtil "\\widetilde{" p "}")      ; wide tilde
(olin "\\overline{" p "}")        ; overline
(ulin "\\underline{" p "}")       ; underline
(obr "\\overbrace{" p "}")        ; overbrace
(ubr "\\underbrace{" p "}")       ; underbrace

;; Over/under arrows (comprehensive)
(ola "\\overleftarrow{" p "}")   ; overleftarrow
(ora "\\overrightarrow{" p "}")  ; overrightarrow
(olra "\\overleftrightarrow{" p "}") ; overleftrightarrow
(ula "\\underleftarrow{" p "}")  ; underleftarrow
(ura "\\underrightarrow{" p "}") ; underrightarrow
(ulra "\\underleftrightarrow{" p "}") ; underleftrightarrow

;; Labels on embellishments
(obl "\\overbrace{" p "}^{" p "}") ; overbrace with label
(ubl "\\underbrace{" p "}_{" p "}") ; underbrace with label
#+END_SRC

** Extensible arrows
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Extensible arrows with super/subscripts
(xla "\\xleftarrow{" p "}")      ; xleftarrow (superscript only)
(xra "\\xrightarrow{" p "}")     ; xrightarrow (superscript only)
(xla[ "\\xleftarrow[" p "]{" p "}") ; xleftarrow with sub and super
(xra[ "\\xrightarrow[" p "]{" p "}") ; xrightarrow with sub and super

;; Extensible arrows from mathtools package
(xlra "\\xleftrightarrow{" p "}") ; xleftrightarrow
(xLa "\\xLeftarrow{" p "}")      ; xLeftarrow
(xRa "\\xRightarrow{" p "}")     ; xRightarrow
(xLra "\\xLeftrightarrow{" p "}") ; xLeftrightarrow
(xmt "\\xmapsto{" p "}")         ; xmapsto
(xhra "\\xhookrightarrow{" p "}") ; xhookrightarrow
(xhla "\\xhookleftarrow{" p "}") ; xhookleftarrow

;; With optional subscripts (mathtools)
(xlra[ "\\xleftrightarrow[" p "]{" p "}") ; with sub and super
(xLa[ "\\xLeftarrow[" p "]{" p "}") ; with sub and super
(xRa[ "\\xRightarrow[" p "]{" p "}") ; with sub and super
(xLra[ "\\xLeftrightarrow[" p "]{" p "}") ; with sub and super
#+END_SRC

** Affixing symbols to other symbols
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Stacking symbols
(os "\\overset{" p "}{" p "}")   ; overset - symbol above
(us "\\underset{" p "}{" p "}")  ; underset - symbol below
(st "\\stackrel{" p "}{" p "}")  ; stackrel (older, prefer overset)

;; Advanced affixing (see sideset in section 8.4)
(ss "\\sideset{" p "}{" p "}" p) ; sideset for corner symbols
#+END_SRC

** Matrices
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Basic matrix environments
(mat "\\begin{matrix}" n> r> n> "\\end{matrix}")     ; no delimiters
(pmat "\\begin{pmatrix}" n> r> n> "\\end{pmatrix}")  ; ( ) parentheses
(bmat "\\begin{bmatrix}" n> r> n> "\\end{bmatrix}")  ; [ ] brackets
(Bmat "\\begin{Bmatrix}" n> r> n> "\\end{Bmatrix}")  ; { } braces
(vmat "\\begin{vmatrix}" n> r> n> "\\end{vmatrix}")  ; | | single bars
(Vmat "\\begin{Vmatrix}" n> r> n> "\\end{Vmatrix}")  ; || || double bars

;; Small matrices (inline)
(smat "\\begin{smallmatrix}" n> r> n> "\\end{smallmatrix}") ; small matrix
(spmat "\\bigl(\\begin{smallmatrix}" n> r> n> "\\end{smallmatrix}\\bigr)") ; small pmatrix
(sbmat "\\bigl[\\begin{smallmatrix}" n> r> n> "\\end{smallmatrix}\\bigr]") ; small bmatrix

;; Matrix templates with content
(mat22 "\\begin{pmatrix}" n> p " & " p " \\\\" n> p " & " p n> "\\end{pmatrix}") ; 2x2
(mat33 "\\begin{pmatrix}" n> p " & " p " & " p " \\\\" n> p " & " p " & " p " \\\\" n> p " & " p " & " p n> "\\end{pmatrix}") ; 3x3

;; Row operations
(hdf "\\hdotsfor{" p "}")        ; horizontal dots for n columns
(\ "\\\\")                       ; new row
(& " & ")                        ; column separator

;; Cases environment
(cas "\\begin{cases}" n> r> n> "\\end{cases}")      ; cases
(cas2 "\\begin{cases}" n> p " & \\text{if } " p " \\\\" n> p " & \\text{otherwise}" n> "\\end{cases}") ; 2-case template

;; Array environment (general purpose)
(arr "\\begin{array}{" p "}" n> r> n> "\\end{array}") ; array with spec
#+END_SRC

** Math spacing commands
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Positive spacing
(, "\\,")                        ; thin space (3mu)
(: "\\:")                        ; medium space (4mu)
(; "\\;")                        ; thick space (5mu)
(q "\\quad")                     ; 1em space
(qq "\\qquad")                   ; 2em space

;; Negative spacing
(! "\\!")                        ; negative thin space (-3mu)
(nts "\\negthinspace")           ; same as \!
(nms "\\negmedspace")            ; negative medium space
(nks "\\negthickspace")          ; negative thick space

;; Named spacing
(ts "\\thinspace")               ; thin space
(ms "\\medspace")                ; medium space
(ks "\\thickspace")              ; thick space

;; Custom spacing
(hs "\\hspace{" p "}")           ; horizontal space
(hs* "\\hspace*{" p "}")         ; non-breakable hspace
(vs "\\vspace{" p "}")           ; vertical space
(vs* "\\vspace*{" p "}")         ; non-breakable vspace
(msp "\\mspace{" p "mu}")        ; math space in mu units

;; Phantom spacing
(ph "\\phantom{" p "}")          ; full phantom (width + height)
(hph "\\hphantom{" p "}")        ; horizontal phantom (width only)
(vph "\\vphantom{" p "}")        ; vertical phantom (height only)

;; Fine-tuning
(mk "\\mkern" p "mu")            ; math kern
(ke "\\kern" p)                  ; general kern
#+END_SRC

** Dots
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Basic dots (already in punctuation - repeated for section completeness)
(ld "\\ldots")                   ; ... low dots
(cd "\\cdots")                   ; ‚ãØ centered dots
(vdo "\\vdots")                  ; ‚ãÆ vertical dots
(ddo "\\ddots")                  ; ‚ã± diagonal dots

;; Semantic dots (amsmath - preferred)
(dc "\\dotsc")                   ; dots with commas
(db "\\dotsb")                   ; dots with binary operators/relations
(dm "\\dotsm")                   ; dots with multiplication
(di "\\dotsi")                   ; dots with integrals
(do "\\dotso")                   ; other dots
(dt "\\dots")                    ; auto dots (context sensitive)

;; Special usage
(dts "\\ldots,")                 ; dots followed by comma
(dtb "\\cdots +")                ; dots in binary context
#+END_SRC

** Nonbreaking dashes
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Nonbreaking dash
(nbd "\\nobreakdash")            ; prevent line break after dash
(nbd- "\\nobreakdash-")          ; nonbreaking hyphen
(nbd-- "\\nobreakdash--")        ; nonbreaking en-dash
(nbd--- "\\nobreakdash---")      ; nonbreaking em-dash

;; Common abbreviations (as suggested in guide)
(padic "$p$\\nobreakdash-adic") ; p-adic
(ndim "$n$\\nobreakdash-dimensional") ; n-dimensional
(Ndash "\\nobreakdash\\textendash") ; en-dash for page ranges

;; With following space control
(nbds "$n$\\nobreakdash-\\hspace{0pt}") ; allow hyphenation after
#+END_SRC

** Roots
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Square roots
(sq "\\sqrt{" p "}")             ; square root
(sqn "\\sqrt[" p "]{" p "}")     ; nth root

;; Common roots
(sq2 "\\sqrt{2}")                ; sqrt(2)
(sq3 "\\sqrt{3}")                ; sqrt(3)
(sqrn "\\sqrt{n}")               ; sqrt(n)
(sqx "\\sqrt{x}")                ; sqrt(x)
(cb "\\sqrt[3]{" p "}")          ; cube root
(4th "\\sqrt[4]{" p "}")         ; fourth root

;; Complex expressions
(sqf "\\sqrt{\\frac{" p "}{" p "}}") ; sqrt of fraction
(sqs "\\sqrt{" p "^2 + " p "^2}") ; sqrt of sum of squares
#+END_SRC

** Boxed formulas
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Boxed formulas
(bx "\\boxed{" p "}")            ; boxed formula
(fb "\\fbox{" p "}")             ; fbox (text mode)
(fbx "\\fbox{$" p "$}")          ; fbox with math

;; Framed environments (requires additional packages)
(fr "\\framebox{" p "}")         ; framebox
(frb "\\framebox[" p "]{" p "}") ; framebox with width

;; Common boxed expressions
(bxeq "\\boxed{" p " = " p "}")  ; boxed equation
(bxres "\\boxed{\\text{Answer: } " p "}") ; boxed answer
#+END_SRC

* Fractions and related constructions
:PROPERTIES:
:header-args:emacs-lisp: :tangle templates/fractions-and-related-constructions.eld
:END:
** The \( \frac, \dfrac, and \tfrac \) commands
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Basic fractions
(f "\\frac{" p "}{" p "}")       ; fraction
(df "\\dfrac{" p "}{" p "}")     ; display fraction (larger)
(tf "\\tfrac{" p "}{" p "}")     ; text fraction (smaller)

;; Common fractions
(f2 "\\frac{1}{2}")              ; 1/2
(f3 "\\frac{1}{3}")              ; 1/3
(f4 "\\frac{1}{4}")              ; 1/4
(fn "\\frac{1}{n}")              ; 1/n
(fx "\\frac{1}{x}")              ; 1/x
(f12 "\\frac{" p "}{2}")         ; x/2
(fab "\\frac{a}{b}")             ; a/b
(fxy "\\frac{x}{y}")             ; x/y

;; Complex fractions
(fpi "\\frac{\\pi}{" p "}")      ; pi/x
(f2pi "\\frac{" p "}{2\\pi}")    ; x/2pi
(fsq "\\frac{\\sqrt{" p "}}{" p "}") ; sqrt in numerator
(fpar "\\frac{\\partial " p "}{\\partial " p "}") ; partial derivative
(fdd "\\frac{d" p "}{d" p "}")   ; derivative
(fd2 "\\frac{d^2" p "}{d" p "^2}") ; second derivative

;; Nested fractions
(ff "\\frac{\\frac{" p "}{" p "}}{" p "}") ; fraction over x
(ffu "\\frac{" p "}{\\frac{" p "}{" p "}}") ; x over fraction
(dff "\\dfrac{\\dfrac{" p "}{" p "}}{" p "}") ; display nested
#+END_SRC

** The \( \binom, \dbinom, and \tbinom \) commands
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Basic binomial coefficients
(bi "\\binom{" p "}{" p "}")     ; binomial coefficient
(dbi "\\dbinom{" p "}{" p "}")   ; display binomial (larger)
(tbi "\\tbinom{" p "}{" p "}")   ; text binomial (smaller)

;; Common binomial coefficients
(bin "\\binom{n}{" p "}")        ; n choose k
(bik "\\binom{" p "}{k}")        ; x choose k
(bink "\\binom{n}{k}")           ; n choose k
(binm "\\binom{n}{m}")           ; n choose m
(bi2 "\\binom{" p "}{2}")        ; x choose 2
(binn "\\binom{n}{n}")           ; n choose n (=1)
(bin0 "\\binom{n}{0}")           ; n choose 0 (=1)
(bin1 "\\binom{n}{1}")           ; n choose 1 (=n)

;; Complex binomial expressions
(binp "\\binom{n+1}{k}")         ; n+1 choose k
(binm1 "\\binom{n-1}{k}")        ; n-1 choose k
(bink1 "\\binom{n}{k+1}")        ; n choose k+1
(bink- "\\binom{n}{k-1}")        ; n choose k-1
(bi2n "\\binom{2n}{n}")          ; central binomial coefficient

;; Generalized binomial (negative/fractional)
(bihalf "\\binom{1/2}{" p "}")   ; half choose k
(bineg "\\binom{-n}{k}")         ; -n choose k
(bialpha "\\binom{\\alpha}{k}")  ; alpha choose k
#+END_SRC

** The \( \genfrac \) command
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; General fraction command
(gf "\\genfrac{" p "}{" p "}{" p "}{" p "}{" p "}{" p "}") ; full genfrac

;; Common genfrac patterns
(gf() "\\genfrac{(}{)}{0pt}{}{" p "}{" p "}") ; parentheses (like binom)
(gf[] "\\genfrac{[}{]}{0pt}{}{" p "}{" p "}") ; brackets
(gf{} "\\genfrac{\\{}{\\}}{0pt}{}{" p "}{" p "}") ; braces
(gf|| "\\genfrac{|}{|}{0pt}{}{" p "}{" p "}") ; single bars
(gf|||| "\\genfrac{\\|}{\\|}{0pt}{}{" p "}{" p "}") ; double bars

;; Style overrides
(gfd "\\genfrac{}{}{}{0}{" p "}{" p "}") ; display style
(gft "\\genfrac{}{}{}{1}{" p "}{" p "}") ; text style
(gfs "\\genfrac{}{}{}{2}{" p "}{" p "}") ; script style
(gfss "\\genfrac{}{}{}{3}{" p "}{" p "}") ; scriptscript style

;; No line fractions (like \atop)
(gfnl "\\genfrac{}{}{0pt}{}{" p "}{" p "}") ; no line
(atop "\\genfrac{}{}{0pt}{}{" p "}{" p "}") ; atop replacement

;; Custom thickness
(gfth "\\genfrac{}{}{" p "pt}{}{" p "}{" p "}") ; custom thickness

;; Combinations
(gfdb "\\genfrac{(}{)}{0pt}{0}{" p "}{" p "}") ; display binom
(gfb "\\genfrac{[}{]}{0pt}{}{" p "}{" p "}") ; bracket fraction
#+END_SRC

** Continued fractions
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Continued fraction
(cf "\\cfrac{" p "}{" p "}")     ; continued fraction
(cfl "\\cfrac[l]{" p "}{" p "}") ; left-aligned numerator
(cfr "\\cfrac[r]{" p "}{" p "}") ; right-aligned numerator

;; Common continued fraction patterns
(cf2 "\\cfrac{1}{" p " + \\cfrac{1}{" p "}}") ; 1/(a + 1/b)
(cf3 "\\cfrac{1}{" p " + \\cfrac{1}{" p " + \\cfrac{1}{" p "}}}") ; three levels
(cfinf "\\cfrac{1}{" p " + \\cfrac{1}{" p " + \\cfrac{1}{" p " + \\dotsb}}}") ; infinite

;; Classic continued fractions
(cfpi "\\cfrac{4}{1 + \\cfrac{1^2}{2 + \\cfrac{3^2}{2 + \\cfrac{5^2}{2 + \\dotsb}}}}") ; pi
(cfe "\\cfrac{1}{1 + \\cfrac{1}{2 + \\cfrac{1}{1 + \\cfrac{1}{1 + \\cfrac{1}{4 + \\dotsb}}}}}") ; e-1
(cfgold "\\cfrac{1}{1 + \\cfrac{1}{1 + \\cfrac{1}{1 + \\dotsb}}}") ; golden ratio

;; Generalized continued fractions
(cfgen "\\cfrac{" p "}{" p " + \\cfrac{" p "}{" p " + \\cfrac{" p "}{" p " + \\dotsb}}}") ; a0/(b0 + a1/(b1 + ...))

;; Nested continued fractions
(cfn "\\cfrac{" p "}{" p " + " r "}") ; template for nesting
#+END_SRC

* Delimiters
:PROPERTIES:
:header-args:emacs-lisp: :tangle templates/delimiters.eld
:END:
** Delimiter sizes
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Basic delimiter commands
(lp "\\left(" p "\\right)")      ; auto-sized parentheses
(lb "\\left[" p "\\right]")      ; auto-sized brackets
(lbr "\\left\\{" p "\\right\\}") ; auto-sized braces
(la "\\left\\langle" p "\\right\\rangle") ; auto-sized angle brackets
(lv "\\left|" p "\\right|")      ; auto-sized vertical bars
(lV "\\left\\|" p "\\right\\|")  ; auto-sized double vertical bars

;; Manual sizing - small to large
(bg "\\big(" p "\\big)")         ; big parentheses
(bgg "\\Big(" p "\\Big)")        ; Big parentheses
(bggg "\\bigg(" p "\\bigg)")     ; bigg parentheses
(bgggg "\\Bigg(" p "\\Bigg)")    ; Bigg parentheses

;; Left/right variants for manual sizing
(bgl "\\bigl(" p "\\bigr)")      ; big left/right
(bggl "\\Bigl(" p "\\Bigr)")     ; Big left/right
(bgggl "\\biggl(" p "\\biggr)")  ; bigg left/right
(bggggl "\\Biggl(" p "\\Biggr)") ; Bigg left/right

;; Other delimiter types with sizing
(bgb "\\bigl[" p "\\bigr]")      ; big brackets
(bggb "\\Bigl[" p "\\Bigr]")     ; Big brackets
(bgggb "\\biggl[" p "\\biggr]")  ; bigg brackets
(bggggb "\\Biggl[" p "\\Biggr]") ; Bigg brackets

(bgc "\\bigl\\{" p "\\bigr\\}")  ; big braces
(bggc "\\Bigl\\{" p "\\Bigr\\}") ; Big braces
(bgggc "\\biggl\\{" p "\\biggr\\}") ; bigg braces
(bggggc "\\Biggl\\{" p "\\Biggr\\}") ; Bigg braces

(bga "\\bigl\\langle" p "\\bigr\\rangle") ; big angle
(bgga "\\Bigl\\langle" p "\\Bigr\\rangle") ; Big angle
(bggga "\\biggl\\langle" p "\\biggr\\rangle") ; bigg angle
(bgggga "\\Biggl\\langle" p "\\Biggr\\rangle") ; Bigg angle

(bgv "\\bigl|" p "\\bigr|")      ; big vert
(bggv "\\Bigl|" p "\\Bigr|")     ; Big vert
(bgggv "\\biggl|" p "\\biggr|")  ; bigg vert
(bggggv "\\Biggl|" p "\\Biggr|") ; Bigg vert

(bgV "\\bigl\\|" p "\\bigr\\|")  ; big double vert
(bggV "\\Bigl\\|" p "\\Bigr\\|") ; Big double vert
(bgggV "\\biggl\\|" p "\\biggr\\|") ; bigg double vert
(bggggV "\\Biggl\\|" p "\\Biggr\\|") ; Bigg double vert

;; Common patterns
(lps "\\left(\\sum_{" p "}^{" p "} " r " \\right)") ; sum with auto-sized parens
(bgs "\\bigl(\\sum_{" p "}^{" p "} " r " \\bigr)")  ; sum with big parens
(bggs "\\Bigl[\\sum_{" p "}^{" p "} " r " \\Bigr]") ; sum with Big brackets

;; Nested delimiters
(nest2 "\\bigl(" p "\\left(" r "\\right)" p "\\bigr)") ; two levels
(nest3 "\\Bigl[" p "\\bigl(" p "\\left(" r "\\right)" p "\\bigr)" p "\\Bigr]") ; three levels

;; Special delimiter combinations
(floor "\\lfloor " p " \\rfloor") ; floor function
(ceil "\\lceil " p " \\rceil")    ; ceiling function
(lfloor "\\left\\lfloor " p " \\right\\rfloor") ; auto-sized floor
(lceil "\\left\\lceil " p " \\right\\rceil")    ; auto-sized ceiling
#+END_SRC

** Vertical bar notations
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Proper paired delimiters (recommended)
(abs "\\lvert " p " \\rvert")    ; absolute value |x|
(norm "\\lVert " p " \\rVert")   ; norm ||x||
(labs "\\left\\lvert " p " \\right\\rvert")   ; auto-sized absolute value
(lnorm "\\left\\lVert " p " \\right\\rVert")  ; auto-sized norm

;; Common mathematical constructs with vertical bars
(set "\\{" p " \\mid " p "\\}")  ; set notation {x | condition}
(lset "\\left\\{" p " \\,\\middle\\vert\\, " p "\\right\\}") ; auto-sized set
(cond "P(" p " \\mid " p ")")    ; conditional probability P(A|B)
(div " \\mid ")                  ; divides relation a|b
(ndiv " \\nmid ")                ; does not divide

;; Sized vertical bar notations
(bgabs "\\bigl\\lvert " p " \\bigr\\rvert")     ; big absolute value
(bggabs "\\Bigl\\lvert " p " \\Bigr\\rvert")    ; Big absolute value
(bgggabs "\\biggl\\lvert " p " \\biggr\\rvert") ; bigg absolute value
(bggggabs "\\Biggl\\lvert " p " \\Biggr\\rvert") ; Bigg absolute value

(bgnorm "\\bigl\\lVert " p " \\bigr\\rVert")    ; big norm
(bggnorm "\\Bigl\\lVert " p " \\Bigr\\rVert")   ; Big norm
(bgggnorm "\\biggl\\lVert " p " \\biggr\\rVert") ; bigg norm
(bggggnorm "\\Biggl\\lVert " p " \\Biggr\\rVert") ; Bigg norm

;; Evaluation bars
(eval "\\bigl." p "\\bigr|_{" p "}^{" p "}") ; evaluation from a to b
(evalat "\\bigl." p "\\bigr|_{" p "}")        ; evaluation at point
(at "\\big|_{" p "}")                         ; simple "at" notation

;; Definition in preamble (for reference)
(defabs "\\providecommand{\\abs}[1]{\\lvert#1\\rvert}") ; define \abs command
(defnorm "\\providecommand{\\norm}[1]{\\lVert#1\\rVert}") ; define \norm command

;; Matrix determinant
(det "\\begin{vmatrix} " r " \\end{vmatrix}") ; determinant with vert bars
(Det "\\begin{Vmatrix} " r " \\end{Vmatrix}") ; matrix norm with double bars

;; Common patterns
(absfrac "\\left\\lvert\\frac{" p "}{" p "}\\right\\rvert") ; |a/b|
(normsum "\\left\\lVert\\sum_{" p "}^{" p "} " p "\\right\\rVert") ; ||sum||
(innerprod "\\langle " p " \\mid " p " \\rangle") ; inner product <a|b>
(braket "\\langle " p " | " p " | " p " \\rangle") ; bra-ket notation <œà|H|œà>
#+END_SRC

* The \text command
:PROPERTIES:
:header-args:emacs-lisp: :tangle templates/the-text-command.eld
:END:
** The \text command and \bmod relatives
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Text in math mode
(t "\\text{" p "}")              ; text in math mode
(tb "\\textbf{" p "}")           ; bold text in math
(ti "\\textit{" p "}")           ; italic text in math
(tt "\\texttt{" p "}")           ; typewriter text in math
(trm "\\textrm{" p "}")          ; roman text in math
(tsf "\\textsf{" p "}")          ; sans-serif text in math
(tsc "\\textsc{" p "}")          ; small caps in math

;; Common text patterns in math
(twhere " \\text{ where } ")     ; where clause
(tand " \\text{ and } ")         ; and conjunction
(tor " \\text{ or } ")           ; or conjunction
(tfor " \\text{ for } ")         ; for clause
(tif " \\text{ if } ")           ; if clause
(twith " \\text{ with } ")       ; with clause
(tsuchthat " \\text{ such that } ") ; such that
(totherwise " \\text{ otherwise}") ; otherwise

;; Text with spacing
(tquad " \\quad\\text{" p "}\\quad ") ; text with quad spaces
(tqquad " \\qquad\\text{" p "}\\qquad ") ; text with qquad spaces

;; Modulo operations
(mod " \\bmod ")                 ; binary mod operator (spacing)
(pmod " \\pmod{" p "}")          ; modulo with parentheses (mod n)
(pod " \\pod{" p "}")            ; just parentheses, no "mod"
(modd " \\mod{" p "}")           ; modulo without parentheses

;; Common modulo patterns
(equivmod " \\equiv " p " \\pmod{" p "}") ; a ‚â° b (mod n)
(notequivmod " \\not\\equiv " p " \\pmod{" p "}") ; a ‚â¢ b (mod n)
(remmod " \\bmod " p " = ")      ; remainder when divided by

;; GCD and related
(gcd "\\gcd(" p ", " p ")")      ; greatest common divisor
(lcm "\\operatorname{lcm}(" p ", " p ")") ; least common multiple

;; Text subscripts and superscripts
(tsub "_{\\text{" p "}}")        ; text subscript
(tsup "^{\\text{" p "}}")        ; text superscript
(tsubsup "_{\\text{" p "}}^{\\text{" p "}}") ; both

;; Common mathematical text
(tmax "_{\\text{max}}")          ; max subscript
(tmin "_{\\text{min}}")          ; min subscript
(topt "_{\\text{opt}}")          ; optimal subscript
(tinit "_{\\text{init}}")        ; initial subscript
(tfinal "_{\\text{final}}")      ; final subscript
(ttotal "_{\\text{total}}")      ; total subscript
(tavg "_{\\text{avg}}")          ; average subscript

;; Units and dimensions
(tunits " \\text{ " p "}")       ; units (with leading space)
(tm " \\text{ m}")               ; meters
(tcm " \\text{ cm}")             ; centimeters
(tmm " \\text{ mm}")             ; millimeters
(tkm " \\text{ km}")             ; kilometers
(tkg " \\text{ kg}")             ; kilograms
(ts " \\text{ s}")               ; seconds
(tms " \\text{ ms}")             ; milliseconds
(thz " \\text{ Hz}")             ; hertz
(tkhz " \\text{ kHz}")           ; kilohertz
(tmhz " \\text{ MHz}")           ; megahertz
#+END_SRC

* Integrals and sums
:PROPERTIES:
:header-args:emacs-lisp: :tangle templates/integrals-and-sums.eld
:END:
** Altering the placement of limits
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Basic integrals and sums
(int "\\int ")                    ; integral
(intl "\\int_{" p "}^{" p "} ")  ; integral with limits
(oint "\\oint ")                  ; contour integral
(ointl "\\oint_{" p "}^{" p "} ") ; contour integral with limits

(sum "\\sum ")                    ; summation
(suml "\\sum_{" p "}^{" p "} ")  ; summation with limits
(prod "\\prod ")                  ; product
(prodl "\\prod_{" p "}^{" p "} ") ; product with limits

;; Limit placement modifiers
(lim "\\lim_{" p " \\to " p "} ") ; limit
(limsup "\\limsup_{" p " \\to " p "} ") ; limit superior
(liminf "\\liminf_{" p " \\to " p "} ") ; limit inferior

;; Display style operators
(dint "\\displaystyle\\int_{" p "}^{" p "} ") ; display style integral
(dsum "\\displaystyle\\sum_{" p "}^{" p "} ") ; display style sum
(dprod "\\displaystyle\\prod_{" p "}^{" p "} ") ; display style product

;; Limits and nolimits
(intlim "\\int\\limits_{" p "}^{" p "} ")     ; force limits above/below
(intnolim "\\int\\nolimits_{" p "}^{" p "} ") ; force limits to side
(sumlim "\\sum\\limits_{" p "}^{" p "} ")     ; force limits above/below
(sumnolim "\\sum\\nolimits_{" p "}^{" p "} ") ; force limits to side

;; Common limit patterns
(limx "\\lim_{x \\to " p "} ")   ; limit as x approaches
(limn "\\lim_{n \\to \\infty} ") ; limit as n approaches infinity
(limzero "\\lim_{" p " \\to 0} ") ; limit approaching zero
(liminfty "\\lim_{" p " \\to \\infty} ") ; limit approaching infinity

;; Common sum/product patterns
(sumn "\\sum_{n=1}^{\\infty} ")  ; sum from n=1 to infinity
(sumi "\\sum_{i=1}^{n} ")        ; sum from i=1 to n
(sumk "\\sum_{k=0}^{n} ")        ; sum from k=0 to n
(prodi "\\prod_{i=1}^{n} ")      ; product from i=1 to n

;; Operators with subscripts
(max "\\max_{" p "} ")           ; max with subscript
(min "\\min_{" p "} ")           ; min with subscript
(sup "\\sup_{" p "} ")           ; supremum with subscript
(inf "\\inf_{" p "} ")           ; infimum with subscript
(arg "\\arg\\max_{" p "} ")      ; argmax
(argmin "\\arg\\min_{" p "} ")   ; argmin
#+END_SRC

** Multiple integral signs
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Multiple integrals
(iint "\\iint ")                  ; double integral
(iintl "\\iint_{" p "}^{" p "} ") ; double integral with limits
(iiint "\\iiint ")                ; triple integral
(iiintl "\\iiint_{" p "}^{" p "} ") ; triple integral with limits
(iiiint "\\iiiint ")              ; quadruple integral
(idotsint "\\idotsint ")          ; multiple integral with dots

;; Multiple integrals with domains
(iintd "\\iint_{" p "} ")        ; double integral over domain
(iiintd "\\iiint_{" p "} ")      ; triple integral over domain
(iintxy "\\iint_{" p "} " p " \\, dx \\, dy") ; double integral with dx dy
(iiintxyz "\\iiint_{" p "} " p " \\, dx \\, dy \\, dz") ; triple integral

;; Surface and volume integrals
(oiint "\\oiint ")                ; surface integral (closed)
(oiintl "\\oiint_{" p "}^{" p "} ") ; surface integral with limits
(oiiint "\\oiiint ")              ; volume integral (closed)

;; Common multiple integral patterns
(iintR "\\iint_\\mathbb{R}^2 ")  ; integral over R^2
(iiintR "\\iiint_\\mathbb{R}^3 ") ; integral over R^3
(iintD "\\iint_D ")               ; integral over region D
(iintS "\\oiint_S ")              ; surface integral over S
(iiintV "\\iiint_V ")             ; volume integral over V

;; With measures
(iintdA "\\iint_{" p "} " p " \\, dA") ; with area element
(iiintdV "\\iiint_{" p "} " p " \\, dV") ; with volume element
(oiintdS "\\oiint_{" p "} " p " \\, dS") ; with surface element

;; Repeated integrals
(intint "\\int \\int ")           ; two separate integrals
(intintint "\\int \\int \\int ")  ; three separate integrals
(intxy "\\int_{" p "}^{" p "} \\int_{" p "}^{" p "} ") ; iterated integral
(intxyz "\\int_{" p "}^{" p "} \\int_{" p "}^{" p "} \\int_{" p "}^{" p "} ") ; triple iterated

;; Fancy integration patterns
(intcirc "\\oint ")               ; circular integral
(intcircC "\\oint_C ")            ; integral around curve C
(intsurf "\\iint_S ")             ; surface integral
(intvol "\\iiint_V ")             ; volume integral
#+END_SRC

** Multiline subscripts and superscripts
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Multiline subscripts/superscripts using subarray
(subarray "_{\\subarray{l} " p " \\\\ " p " \\endsubarray}")  ; left-aligned subscript array
(subarrayc "_{\\subarray{c} " p " \\\\ " p " \\endsubarray}") ; centered subscript array
(subarrayr "_{\\subarray{r} " p " \\\\ " p " \\endsubarray}") ; right-aligned subscript array

(suparray "^{\\subarray{l} " p " \\\\ " p " \\endsubarray}")  ; left-aligned superscript array
(suparrayc "^{\\subarray{c} " p " \\\\ " p " \\endsubarray}") ; centered superscript array
(suparrayr "^{\\subarray{r} " p " \\\\ " p " \\endsubarray}") ; right-aligned superscript array

;; Common multiline patterns
(sumlinesub "\\sum_{\\subarray{l} " p " \\\\ " p " \\endsubarray}") ; sum with multiline subscript
(prodlinesub "\\prod_{\\subarray{c} " p " \\\\ " p " \\endsubarray}") ; product with multiline subscript
(intlinesub "\\int_{\\subarray{l} " p " \\\\ " p " \\endsubarray}") ; integral with multiline subscript

;; Using substack (amsmath)
(substack "_{\\substack{" p " \\\\ " p "}}") ; substack subscript
(supstack "^{\\substack{" p " \\\\ " p "}}") ; substack superscript
(sumstack "\\sum_{\\substack{" p " \\\\ " p "}}") ; sum with substack
(prodstack "\\prod_{\\substack{" p " \\\\ " p "}}") ; product with substack

;; Common use cases
(sumij "\\sum_{\\substack{i=1 \\\\ j=1}}^{\\substack{m \\\\ n}}") ; double index sum
(sumnk "\\sum_{\\substack{1 \\le i \\le n \\\\ 1 \\le j \\le m}}") ; sum with conditions
(maxsub "\\max_{\\substack{x \\in A \\\\ y \\in B}}") ; max with constraints
(limsub "\\lim_{\\substack{x \\to 0 \\\\ y \\to 0}}") ; limit with multiple variables

;; Alternative stacking methods
(atop "\\genfrac{}{}{0pt}{}{" p "}{" p "}") ; stack without line
(above "{" p " \\above 0pt " p "}") ; TeX primitive stacking

;; Aligned subscripts/superscripts
(subalign "_{\\begin{aligned} " p " &= " p " \\\\ " p " &= " p " \\end{aligned}}") ; aligned subscript
(supalign "^{\\begin{aligned} " p " &= " p " \\\\ " p " &= " p " \\end{aligned}}") ; aligned superscript
#+END_SRC

** The \sideset command
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Basic sideset usage
(sideset "\\sideset{" p "}{" p "}" p) ; general sideset
(sidesetl "\\sideset{_{" p "}^{" p "}}{}" p) ; left sub/superscript
(sidesetr "\\sideset{}{_{" p "}^{" p "}}" p) ; right sub/superscript
(sidesetlr "\\sideset{_{" p "}^{" p "}}{_{" p "}^{" p "}}" p) ; both sides

;; Common sideset patterns
(sidesum "\\sideset{}{'}\\sum")   ; sum with prime
(sideprod "\\sideset{}{'}\\prod") ; product with prime
(sideint "\\sideset{}{'}\\int")   ; integral with prime

;; Multiple primes and indices
(sideprime "\\sideset{}{'}" p)    ; add prime to operator
(sidedprime "\\sideset{}{''}" p)  ; add double prime
(sidetprime "\\sideset{}{'''}" p) ; add triple prime

;; Complex sideset examples
(sidesumfull "\\sideset{_{" p "}^{" p "}}{_{" p "}^{" p "}}\\sum") ; sum with all indices
(sideprodfull "\\sideset{_{" p "}^{" p "}}{_{" p "}^{" p "}}\\prod") ; product with all indices

;; With specific operators
(sidebigop "\\sideset{}{'}\\bigop") ; generic big operator with prime
(sidebigoplus "\\sideset{}{'}\\bigoplus") ; direct sum with prime
(sidebigotimes "\\sideset{}{'}\\bigotimes") ; tensor product with prime

;; Practical examples
(sumstar "\\sideset{}{^*}\\sum")  ; sum with star
(prodstar "\\sideset{}{^*}\\prod") ; product with star
(sumab "\\sideset{^a_b}{}\\sum")  ; sum with left indices
(prodcd "\\sideset{}{^c_d}\\prod") ; product with right indices

;; Combining with limits
(sidesumij "\\sideset{}{'}\\sum_{i=1}^{n}") ; sideset sum with limits
(sideprodkl "\\sideset{}{'}\\prod_{k,l}") ; sideset product with double index
#+END_SRC

* Changing the size of elements in a formula
:PROPERTIES:
:header-args:emacs-lisp: :tangle templates/changing-the-size-of-elements-in-a-formula.eld
:END:
** Changing the size of elements in a formula
#+BEGIN_SRC emacs-lisp
latex-mode org-mode

;; Math style commands
(ds "\\displaystyle ")            ; display style (full size)
(ts "\\textstyle ")               ; text style (inline size)
(ss "\\scriptstyle ")             ; script style (subscript size)
(sss "\\scriptscriptstyle ")      ; scriptscript style (sub-subscript size)

;; Common applications
(dsfrac "{\\displaystyle\\frac{" p "}{" p "}}") ; display style fraction
(dssum "{\\displaystyle\\sum_{" p "}^{" p "}}") ; display style sum
(dsprod "{\\displaystyle\\prod_{" p "}^{" p "}}") ; display style product
(dsint "{\\displaystyle\\int_{" p "}^{" p "}}") ; display style integral

;; With nolimits
(dsnl "{\\displaystyle " p "\\nolimits}") ; display style with side limits
(dssuml "{\\displaystyle\\sum\\nolimits_{" p "}^{" p "}}") ; sum with side limits
(dsprodl "{\\displaystyle\\prod\\nolimits_{" p "}^{" p "}}") ; product with side limits

;; Text style variants
(tsfrac "{\\textstyle\\frac{" p "}{" p "}}") ; text style fraction
(tssum "{\\textstyle\\sum_{" p "}^{" p "}}") ; text style sum
(tsint "{\\textstyle\\int_{" p "}^{" p "}}") ; text style integral

;; Script style
(ssfrac "{\\scriptstyle\\frac{" p "}{" p "}}") ; script style fraction
(sssfrac "{\\scriptscriptstyle\\frac{" p "}{" p "}}") ; scriptscript fraction

;; Mixed styles in fractions
(fracds "\\frac{\\displaystyle " p "}{\\displaystyle " p "}") ; both parts display
(fracdsts "\\frac{\\displaystyle " p "}{\\textstyle " p "}") ; numerator display
(fractsds "\\frac{\\textstyle " p "}{\\displaystyle " p "}") ; denominator display

;; Sizing in specific contexts
(dsub "_{\\displaystyle " p "}")  ; display style subscript
(dsup "^{\\displaystyle " p "}")  ; display style superscript
(tsub "_{\\textstyle " p "}")     ; text style subscript
(tsup "^{\\textstyle " p "}")     ; text style superscript

;; Common patterns
(bigfrac "\\displaystyle\\frac{" p "}{" p "}") ; big fraction
(bigsum "\\displaystyle\\sum_{" p "}^{" p "} ") ; big summation
(bigint "\\displaystyle\\int_{" p "}^{" p "} ") ; big integral
(bigprod "\\displaystyle\\prod_{" p "}^{" p "} ") ; big product

;; Inline operators forced to display size
(inlinesum "$\\displaystyle\\sum_{" p "}^{" p "}$ ") ; inline display sum
(inlineint "$\\displaystyle\\int_{" p "}^{" p "}$ ") ; inline display integral

;; Resizing delimiters with content
(biglr "\\left(" p "\\right)")    ; auto-sized parentheses
(Biglr "\\bigl(" p "\\bigr)")     ; manually sized parentheses
(bigglr "\\biggl(" p "\\biggr)")  ; larger parentheses

;; Math operator size
(limits "\\limits ")              ; force limits above/below
(nolimits "\\nolimits ")          ; force limits to the side

;; Size declarations (scope-based)
(dscope "{\\displaystyle " r "}") ; display style scope
(tscope "{\\textstyle " r "}")    ; text style scope
(sscope "{\\scriptstyle " r "}")  ; script style scope

;; Common mistakes to avoid (for reference)
;; Wrong: \displaystyle{...}
;; Right: {\displaystyle ...}
;; These templates follow the correct pattern
#+END_SRC